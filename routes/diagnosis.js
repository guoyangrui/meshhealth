var express = require('express');var router = express.Router();var request = require('request');var blockexplorer = "https://testnet.blockexplorer.com/api/tx/";var tx = require('../tx');/* GET user diagnosis listing. */router.get('/', function(req, res, next) {  res.send('diagnosis');});router.post('/add', function(req, res, next) {   //replace data with digest   var data = new Buffer('bitcoinjs-lib')   request(blockexplorer + txid, function (error, response, body) {   if (!error && response.statusCode == 200) {    console.log(body) // Print the google web page.        tx(function(data, result) {            txid = result[0];            console.log(txid);            res.render('confirmation',  {title: "Mesh Health", user: user, txid: txid, diagnosis: diagnosis});    });    }   })});module.exports = router;